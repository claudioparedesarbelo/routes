<header id="headerMain" class="shadow p-3 mb-5 bg-body-tertiary rounded">
<img src="/5a1d2fbc4ac6b00ff574e29a.png" alt="">
<nav class="navbar navbar-expand-lg">
  <div class="container-fluid">
    <a class="navbar-brand" href="/">Home</a>
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse" id="navbarNav">
      <ul class="navbar-nav">
        <li class="nav-item">
          <a class="nav-link" aria-current="page" href="/form-products">Create Product</a>
        </li>
        <li class="nav-item">
          <a class="nav-link active" href="/products-realtime">Products Real Time</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="/messages">Contact with Us</a>
        </li>
        
      </ul>
    </div>
  </div>
</nav>

</header>
<h2>Products Real Time</h2>

<form id="myForm">
<div class="mb-3">
  <label for="formGroupExampleInput" class="form-label">Marca</label>
  <input type="text" name= "marca" class="form-control" id="formGroupExampleInput" placeholder="Insert Marca">
</div>
<div class="mb-3">
  <label for="formGroupExampleInput" class="form-label">Categoria</label>
  <input type="text" name= "categoria" class="form-control" id="formGroupExampleInput" placeholder="Insert Marca">
</div>
<div class="mb-3">
  <label for="formGroupExampleInput2" class="form-label">Description</label>
  <input type="text" name= "description" class="form-control" id="formGroupExampleInput2" placeholder="Insert Description">
</div>
<div class="mb-3">
  <label for="formGroupExampleInput2" class="form-label">Code</label>
  <input type="text" name="code" class="form-control" id="formGroupExampleInput3" placeholder="Insert Code">
</div>
<div class="mb-3">
  <label for="formGroupExampleInput2" class="form-label">Price</label>
  <input type="text" name="price" class="form-control" id="formGroupExampleInput4" placeholder="Insert Price">
</div>
<div class="mb-3">
  <label for="formGroupExampleInput2" class="form-label">Stock</label>
  <input type="number" name="stock" class="form-control" id="formGroupExampleInput5" placeholder="Insert Stock">
</div>
<div class="mb-3">
  <label for="formGroupExampleInput2" class="form-label">Thumbnails</label>
  <input type="text" name="thumbnails" class="form-control" id="formGroupExampleInput6" placeholder="Insert Thumbnails">
</div>
<div class="col-12">
    <button type="submit" class="btn btn-primary">Submit</button>
  </div>
</form>

<hr>

<table id="tableRealProduct">
    <thead>
        <tr>
            
            <td>Marca</td>
            <td>Categoria</td>
            <td>Description</td>
            <td>Code</td>
            <td>Price</td>
            <td>Stock</td>
            <td>Update</td>
            <td>Delete</td>
            
        </tr>
    </thead>
    <tbody id="tbody">
        {{#each products}}
        <tr>
            
            <td>{{this.marca}}</td>
            <td>{{this.categoria}}</td>
            <td>{{this.description}}</td>
            <td>{{this.code}}</td>
            <td>${{this.price}}</td>
            <td>{{this.stock}}</td>
            <td><a href="/update/{{this.id}}">Update</a></td>
            <td> <a href="/delete/{{this._id}}">üóë</a></td>
           
        </tr>
        {{/each}}
    </tbody>
</table>

<script src="/socket.io/socket.io.js"></script>
<script>
    const socket = io()

    document.getElementById('myForm').onsubmit = e => {
        e.preventDefault()

        const marca = document.querySelector('input[name=marca]').value
        const categoria = document.querySelector('input[name=categoria]').value
        const description = document.querySelector('input[name=description]').value
        const code = document.querySelector('input[name=code]').value
        const price = parseInt(document.querySelector('input[name=price]').value)
        const stock = document.querySelector('input[name=stock]').value
        const thumbnails = document.querySelector('input[name=thumbnails]').value
        const product = {marca, description, code, price, stock, thumbnails}
        socket.emit('new-product', product)
    }

    socket.on('reload-table', products => {
        console.log(products)
        const tbody = document.getElementById('tbody')
        let html = '';
            products.forEach(product => {
                html += `<tr>
               
                <td>${product.marca}</td>
                <td>${product.categoria}</td>
                <td>${product.description}</td>
                <td>${product.code}</td>
                <td>${product.price}</td>
                <td>${product.stock}</td>
                
                </tr>`
            })
            tbody.innerHTML = html
    })

    

</script>


<footer class="footer">
  <div class="firstLine">
  <div>
    <h5>DECATHLON EMPRESA</h5>
    <p>Qui√©nes somos</p>
    <p>Canal √©tico</p>
    <p>Trabaja con nosotros</p>
    <p>Sala de prensa</p>
    <p>Decathlon afiliados</p>
    <p>Decathlon Marketplace</p>
    <p>Vende en Decathlon.es</p>
    <p>Sostenibilidad</p>
    <p>Innovaci√≥n</p>
  </div>
  <div>
    <h5>COMPRA</h5>
    <p>M√©todo de entrega/Gasto de env√≠o</p>
    <p>M√©todos de pago</p>
    <p>Clasificaci√≥n de nuestros productos</p>
    <p>Preguntas frecuentes</p>
    <p>Servicio de montaje</p>
    <p>Env√≠o Canarias/Ceuta/Melilla/Andorra</p>
    <p>Tax free</p>
  </div>
  <div>
    <h5>POST-COMPRA</h5>
    <p>Cambios y devoluciones</p>
    <p>Factura formato electr√≥nico</p>
    <p>Tu opini√≥n cuenta</p>
    <p>Comunicados seguridad</p>
  </div>
  <div>
    <h5>SERVICIOS</h5>
    <p>Alquiler</p>
    <p>Soporte t√©cnico</p>
    <p>Tarjeta regalo</p>
    <p>Clubes, colegios y empresas</p>
    <p>Personalizaci√≥n</p>
    <p>Financiaci√≥n</p>
    <p>Extensi√≥n de garant√≠a</p>
    <p>Equipaciones clubes</p>
    <p>Postventa</p>
  </div>
  <div>
    <h5>MY DECATHLON</h5>
    <p>Decathlon Live</p>
    <p>Ventajas y servicios</p>
    <p>Decathlon segunda vida</p>
    <p>Revender mis productos</p>
  </div>
</div>
<div class="secondLine">
  <div>
    <h5>PREG√öNTANOS LO QUE QUIERAS</h5>
    <p>Lunes a s√°bado, 10:00h-22:00h</p>
  </div>
  <div>
    <h5>APP DECATHLON</h5>
    <img src="/app-store-svgrepo-com.svg" alt="">Apple Store
    <img src="/android-logo-svgrepo-com.svg" alt=""> Google Play
  </div>
  <div>
    <h5>REDES SOCIALES</h5>
    <img src="/facebook-176-svgrepo-com.svg" alt=""><img src="/youtube-svgrepo-com (1).svg" alt="">
    <img src="/instagram-svgrepo-com (1).svg" alt=""><img src="/twitter-154-svgrepo-com.svg" alt="">
    </div>
  </div>
<div class="thirdLine">
  <p>C.G.V - C.G.U - Menciones legales - Pol√≠tica de privacidad y cookies - FAQ - Ayuda/Contacto - Tiendas Decathlon</p>
</div>
<div class="fourthLine">
  <p>*Consulta los m√©todos, plazos y gastos de env√≠o disponibles en el siguiente enlace. **Los precios de venta de los art√≠culos de nuestro cat√°logo incluyen IVA. Los precios para las entregas con destino a Canarias, Ceuta, Melilla y Andorra incluyen impuestos indirectos. Los precios de venta de los art√≠culos de nuestro cat√°logo son los recomendados desde central a d√≠a de ayer. Gastos de env√≠o no incluidos. Fotos de los productos no contractuales.</p>
</div>
</footer>